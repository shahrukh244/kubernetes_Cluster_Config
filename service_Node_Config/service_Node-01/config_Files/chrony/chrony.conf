# NTP pool servers
pool ntp.ubuntu.com        iburst maxsources 4
pool 0.ubuntu.pool.ntp.org iburst maxsources 1
pool 1.ubuntu.pool.ntp.org iburst maxsources 1
pool 2.ubuntu.pool.ntp.org iburst maxsources 2

# DHCP sources (optional)
sourcedir /run/chrony-dhcp

# Additional NTP sources
sourcedir /etc/chrony/sources.d

# Authentication keys (optional)
keyfile /etc/chrony/chrony.keys

# Drift file
driftfile /var/lib/chrony/chrony.drift

# NTS keys/cookies
ntsdumpdir /var/lib/chrony

# Logging
logdir /var/log/chrony

# Stop bad estimates
maxupdateskew 100.0

# Kernel RTC sync
rtcsync

# Step system clock if adjustment > 1s
makestep 1 3

# TAI-UTC offset
leapsectz right/UTC

# === LOCAL CLUSTER NTP SERVER ===
# Allow local network
allow 10.0.0.0/24

# Serve local time if upstream unavailable
local stratum 10
